<transition name="modal">
<div class="modal-mask" @click="close"> 
    <div class="modal-container full-height" @click.stop style="overflow-y:auto">
      <span @click="close" class="close">&times;</span>
        <div class="modal-header">
            <h2>Search</h2>
        </div>
        <div class="modal-body">
            <div v-bind:class="errorClass">
                <label v-if="isError">{{ error }}</label>
            </div>
            <spinner v-if="showSpinner"></spinner>
                <table class="width:100%">
                <tr>
                    <td style="padding-right: 20px;">
                        <select v-model="selectedSearchType">
                            <option value="contains">Filename contains</option>
                            <option value="modifiedAfter">File modified after</option>
                            <option value="modifiedBefore">File modified before</option>
                            <option value="fileSizeGreaterThan">File size greater than</option>
                            <option value="fileSizeLessThan">File size less than</option>
                            <option value="mimeType">File type</option>
                        </select>
                    </td>
                    <td v-if="selectedSearchType=='modifiedAfter' || selectedSearchType=='modifiedBefore'" style="padding-right: 20px;">
                        <input v-model="selectedDate" type="date" min="1900-01-01" max="3000-01-01" style="width: 200px;" ></input>
                    </td>
                    <td v-if="selectedSearchType=='contains'" style="padding-right: 20px;">
                        <input v-if="selectedSearchType=='contains'" v-model="searchFilenameContains" placeholder=""type="text" style="width: 300px;" ></input>
                    </td>
                    <td v-if="selectedSearchType=='fileSizeGreaterThan' || selectedSearchType=='fileSizeLessThan'" style="padding-right: 20px;">
                        <input v-model="searchFileSize" placeholder="1" type="number" min="1" style="width: 100px;" ></input>
                    </td>
                    <td v-if="selectedSearchType=='fileSizeGreaterThan' || selectedSearchType=='fileSizeLessThan'" style="padding-right: 20px;">
                        <select v-model="selectedSizeUnit">
                            <option value="K">KiB</option>
                            <option value="M">MiB</option>
                            <option value="G">GiB</option>
                        </select>
                    </td>
                    <td v-if="selectedSearchType=='mimeType'" style="padding-right: 20px;">
                        <select v-model="selectedMimeType">
                            <option value="video">Video</option>
                            <option value="image">Image</option>
                            <option value="audio">Audio</option>
                        </select>
                    </td>
                    <td>
                        <button id='submit-search' class="btn btn-success" @click="search()">Search</button>
                    </td>
                </tr>
                </table>
            </div>

            <div>
                <h3>Results: {{ matches.length }}</h3>
                <table id='search-results-table-id' class="table table-responsive table-striped table-hover">
                    <tr v-if="matches==0"><th></th><th></th><th></th><th></th></tr>
                    <tr v-if="matches!=0"><th>Name</th><th>Directory</th><th style="text-align:right">Size</th><th style="text-align:right">Modified</th></tr>
                    <tr v-for="match in sortedItems">

                        <td id='entry-id' v-on:click="view(match, true)">{{ match.name }}</td>
                        <td v-on:click="navigateTo(match)">
                            {{ match.path }}
                        </td>
                        <td style="text-align:right">
                            {{ match.size }}
                        </td>
                        <td style="text-align:right">
                            {{ match.lastModified }}
                        </td>
                    </tr>
                </table>
            </div>
        </div>
    </div>
</div>
</transition>
