<nav class="navbar navbar-inverse navbar-static-top" role="navigation">
  <div>
    <ul class="nav navbar-nav">
      <li id="homeButton" @click="goHome()" class="navbar-brand nopad"><a><span data-toggle="tooltip" data-placement="bottom" title="Home" class="pnavbar glyphicon glyphicon-home tour-home" style="cursor: pointer;"/></a></li>
      <li id="uploadButton" @click="askForFile()" v-if="isWritable" class="navbar-brand nopad"><a><span data-toggle="tooltip" data-placement="bottom" title="Upload file" class="pnavbar glyphicon glyphicon-upload tour-upload"  style="cursor: pointer;"/></a></li>
      <li id="mkdirButton" @click="askMkdir()" v-if="isWritable" class="navbar-brand nopad"><a><span data-toggle="tooltip" data-placement="bottom" title="Create new directory" class="pnavbar glyphicon glyphicon-folder-open tour-mkdir"  style="cursor: pointer;"/></a></li>
      <li id="alternateViewButton" @click="switchView()" class="navbar-brand nopad"><a><span data-toggle="tooltip" data-placement="bottom" title="Switch view" id="altViewSpan" v-bind:class="['pnavbar', 'glyphicon', 'tour-view', grid ? 'glyphicon-list' : 'glyphicon-th-large']"  style="cursor: pointer;"/></a></li>
      <li id="userOptionsButton" @click="showSocial()" class="navbar-brand nopad">
	<a>
          <span data-toggle="tooltip" data-placement="bottom" title="Sharing options" id="sharingOptionsSpan" class="pnavbar glyphicon glyphicon-user tour-social"  style="cursor: pointer;"/>
          <span id="pendingSpan"></span>
	</a>
      </li>
    </ul>
  </div>
  <a id="pathSpan" style="font-size:28px;"><span data-toggle="tooltip" data-placement="bottom" title="Current location" class="pnavbar glyphicon glyphicon-chevron-right tour-path" style="vertical-align:'middle';"/></a>
  <span class="tour-path" v-for="dir in path" track-by="$index">
    <button @click="goBackToLevel($index+1)" class="btn_pnavbar btn tour-path">{{dir}}</button>
    <span class="divider"> </span>
  </span>

  <ul class="nav navbar-nav navbar-right pnavbar_top_right">
    <button @click="showUserMenu()" class="btn top_right_icon tour-logout">
      <span class="glyphicon glyphicon-off"></span>
      <span class="collapse navbar-collapse">{{username}}</span>
    </button>
  </ul>
  
</nav>

<input type="file" id="uploadInput" @change="uploadFiles" style="display:none;" multiple="" />

<div class="grid" v-if="grid">
  <span class="column" v-for="file in sortedFiles">
    <span class="grid_icon_wrapper" id="grid$index" draggable="true" @dragStart="dragStart($event, file)" @dragover.prevent @drop="drop($event, file)">
      <span v-on:dblclick="navigateOrDownload(file.getFileProperties().name)" v-bind:class="['glyphicon', 'file_icon', file.isDirectory() ? 'glyphicon-folder-open' : 'glyphicon-file', 'picon']"/>
      <div class="content">
        <div class="noselect">{{ file.getFileProperties().name }}</div>
      </div>
    </span>
  </span>
</div>
<div class="table-responsive" v-if="!grid">
  <table class="table">
    <thead>
      <tr style="cursor:pointer;">
        <th @click="setSortBy('name')">Name <span v-if="sortBy=='name'" v-bind:class="['glyphicon', normalSortOrder ? 'glyphicon-chevron-down' : 'glyphicon-chevron-up']"/></th>
	<th @click="setSortBy('size')">Size <span v-if="sortBy=='size'" v-bind:class="['glyphicon', normalSortOrder ? 'glyphicon-chevron-down' : 'glyphicon-chevron-up']"/></th>
	<th @click="setSortBy('type')">Type <span v-if="sortBy=='type'" v-bind:class="['glyphicon', normalSortOrder ? 'glyphicon-chevron-down' : 'glyphicon-chevron-up']"/></th>
	<th @click="setSortBy('modified')">Modified <span v-if="sortBy=='modified'" v-bind:class="['glyphicon', normalSortOrder ? 'glyphicon-chevron-down' : 'glyphicon-chevron-up']"/></th>
      </tr>
    </thead>
    <tbody>
      <tr v-for="file in sortedFiles">
        <td v-on:dblclick="navigateToSubdir(file.getFileProperties().name)" style="cursor:pointer">{{ file.getFileProperties().name }}</td>
	<td>{{ file.getFileProperties().sizeLow() }}</td>
	<td>{{ file.type }}</td>
	<td>{{ file.getFileProperties().modified }}</td>
      </tr>
    </tbody>
  </table>
</div>
